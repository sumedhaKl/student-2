<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Choose Your Own Adventure</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin: 50px;
        }
    </style>
</head>
<body>
    <h1>Choose Your Own Adventure</h1>
    
    <p id="story"></p>
    <div id="choices"></div>

    <script defer>
        let storyText = "";
        let currentScene = "start";

        function generateStory() {
            storyText = "";
            document.getElementById("choices").innerHTML = "";

            if (currentScene === "start") {
                storyText = "You find yourself at a crossroads.";
                displayChoices(["Explore the mysterious forest", "Visit the bustling city"]);
            } else if (currentScene === "forest") {
                storyText = "You venture into the forest and encounter a magical creature.";
                displayChoices(["Befriend the creature", "Continue deeper into the forest"]);
            } else if (currentScene === "city") {
                storyText = "In the city, you discover a hidden alley with a mysterious door.";
                displayChoices(["Enter the mysterious door", "Explore other parts of the city"]);
            } else if (currentScene === "befriendCreature") {
                storyText = "The creature turns out to be a friendly guide, leading you to hidden wonders in the forest.";
                displayEnd();
            } else if (currentScene === "deeperForest") {
                storyText = "You venture deeper into the forest and stumble upon an ancient ruin.";
                displayEnd();
            } else if (currentScene === "enterDoor") {
                storyText = "You enter the mysterious door and find yourself in a magical realm.";
                displayEnd();
            } else if (currentScene === "exploreCity") {
                storyText = "You explore various parts of the city, discovering its secrets.";
                displayEnd();
            }

            document.getElementById("story").innerText = storyText;
        }

        function displayChoices(choices) {
            for (let i = 0; i < choices.length; i++) {
                const choiceBtn = document.createElement("button");
                choiceBtn.innerText = choices[i];
                choiceBtn.onclick = function () {
                    handleChoice(choices[i]);
                };
                document.getElementById("choices").appendChild(choiceBtn);
            }
        }

        function handleChoice(choice) {
            if (currentScene === "start") {
                if (choice === "Explore the mysterious forest") {
                    currentScene = "forest";
                } else if (choice === "Visit the bustling city") {
                    currentScene = "city";
                }
            } else if (currentScene === "forest") {
                if (choice === "Befriend the creature") {
                    currentScene = "befriendCreature";
                } else if (choice === "Continue deeper into the forest") {
                    currentScene = "deeperForest";
                }
            } else if (currentScene === "city") {
                if (choice === "Enter the mysterious door") {
                    currentScene = "enterDoor";
                } else if (choice === "Explore other parts of the city") {
                    currentScene = "exploreCity";
                }
            }

            generateStory();
        }

        function displayEnd() {
            const endMessage = document.createElement("p");
            endMessage.innerText = "The adventure comes to an end. Thanks for playing!";
            document.getElementById("choices").appendChild(endMessage);
        }

        generateStory();
    </script>
</body>
</html>